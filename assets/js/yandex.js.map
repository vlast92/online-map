{"version":3,"sources":["../../dist/js/yandex.js"],"names":["YandexMap","params","map","ymaps","Map","id","center","centerCoord","zoom","controls","wheel_zoom","behaviors","disable","addPlace","i","length","icon","placemark","Placemark","position","lat","lng","hintContent","name","balloonContent","infoWindowContent","geoObjects","add","addPlacesFromData","objectManager","ObjectManager","clusterize","gridSize","clusterDisableClickZoom","objects","options","set","clusters","$","ajax","url","data_path","done","data","addControl","control","SearchControl","size","provider"],"mappings":"AAAA;;AAEA,SAASA,SAAT,CAAmBC,MAAnB,EAA2B;;AAEvB,QAAMC,MAAM,IAAIC,MAAMC,GAAV,CAAcH,OAAOI,EAArB,EAAyB;AACjCC,gBAAQL,OAAOM,WADkB;AAEjCC,cAAMP,OAAOO,IAFoB;AAGjCC,kBAAU;AAHuB,KAAzB,CAAZ;;AAMA,QAAG,CAACR,OAAOS,UAAX,EAAuBR,IAAIS,SAAJ,CAAcC,OAAd,CAAsB,YAAtB;;AAEvB,SAAKC,QAAL,GAAgB,UAACZ,MAAD,EAAY;;AAExB,aAAI,IAAIa,IAAI,CAAZ,EAAeA,IAAIb,OAAOc,MAA1B,EAAkCD,GAAlC,EAAsC;;AAElC,gBAAIE,OAAOf,OAAOa,CAAP,EAAUE,IAAV,GAAiBf,OAAOa,CAAP,EAAUE,IAA3B,GAAkC,EAA7C;AAAA,gBACIC,YAAY,IAAId,MAAMe,SAAV,CAAoB,CAACjB,OAAOa,CAAP,EAAUK,QAAV,CAAmBC,GAApB,EAAyBnB,OAAOa,CAAP,EAAUK,QAAV,CAAmBE,GAA5C,CAApB,EAAqE;AACjFC,6BAAarB,OAAOa,CAAP,EAAUS,IAD0D;AAEjFC,gCAAgBvB,OAAOa,CAAP,EAAUW;AAFuD,aAArE,EAGbT,IAHa,CADhB;AAKAd,gBAAIwB,UAAJ,CAAeC,GAAf,CAAmBV,SAAnB;AACH;AACJ,KAXD;;AAaA,SAAKW,iBAAL,GAAyB,UAAC3B,MAAD,EAAY;AACjC,YAAM4B,gBAAgB,IAAI1B,MAAM2B,aAAV,CAAwB;AAC1C;AACAC,wBAAY,IAF8B;AAG1C;AACAC,sBAAU,EAJgC;AAK1CC,qCAAyB;AALiB,SAAxB,CAAtB;;AAQA;AACA;AACAJ,sBAAcK,OAAd,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,QAAlC,EAA4C,sBAA5C;AACAP,sBAAcQ,QAAd,CAAuBF,OAAvB,CAA+BC,GAA/B,CAAmC,QAAnC,EAA6C,2BAA7C;AACAlC,YAAIwB,UAAJ,CAAeC,GAAf,CAAmBE,aAAnB;;AAEAS,UAAEC,IAAF,CAAO;AACHC,iBAAKvC,OAAOwC;AADT,SAAP,EAEGC,IAFH,CAEQ,UAASC,IAAT,EAAe;AACnBd,0BAAcF,GAAd,CAAkBgB,IAAlB;AACH,SAJD;AAKH,KApBD;;AAsBA,SAAKC,UAAL,GAAkB,UAAC3C,MAAD,EAAY;;AAE1B,gBAAQA,MAAR;AACI,iBAAK,gBAAL;AACIC,oBAAIO,QAAJ,CAAakB,GAAb,CAAiB,IAAIxB,MAAM0C,OAAN,CAAcC,aAAlB,CAAgC;AAC7CX,6BAAS;AACL;AACA;AACAY,8BAAM,OAHD;AAIL;AACA;AACAC,kCAAU;AANL;AADoC,iBAAhC,CAAjB;AAUA;AACJ;AACI9C,oBAAIO,QAAJ,CAAakB,GAAb,CAAiB1B,MAAjB;AAdR;AAgBH,KAlBD;;AAoBA;AACA,WAAO;AACH2C,oBAAY,KAAKA,UADd;AAEH/B,kBAAU,KAAKA,QAFZ;AAGHe,2BAAmB,KAAKA;AACxB;AAJG,KAAP;AAMH","file":"yandex.js","sourcesContent":["\"use strict\";\r\n\r\nfunction YandexMap(params) {\r\n\r\n    const map = new ymaps.Map(params.id, {\r\n        center: params.centerCoord,\r\n        zoom: params.zoom,\r\n        controls: []\r\n    });\r\n\r\n    if(!params.wheel_zoom) map.behaviors.disable('scrollZoom');\r\n\r\n    this.addPlace = (params) => {\r\n\r\n        for(let i = 0; i < params.length; i++){\r\n\r\n            let icon = params[i].icon ? params[i].icon : {},\r\n                placemark = new ymaps.Placemark([params[i].position.lat, params[i].position.lng],{\r\n                hintContent: params[i].name,\r\n                balloonContent: params[i].infoWindowContent\r\n            }, icon);\r\n            map.geoObjects.add(placemark);\r\n        }\r\n    };\r\n\r\n    this.addPlacesFromData = (params) => {\r\n        const objectManager = new ymaps.ObjectManager({\r\n            // Чтобы метки начали кластеризоваться, выставляем опцию.\r\n            clusterize: true,\r\n            // ObjectManager принимает те же опции, что и кластеризатор.\r\n            gridSize: 32,\r\n            clusterDisableClickZoom: true\r\n        });\r\n\r\n        // Чтобы задать опции одиночным объектам и кластерам,\r\n        // обратимся к дочерним коллекциям ObjectManager.\r\n        objectManager.objects.options.set('preset', 'islands#greenDotIcon');\r\n        objectManager.clusters.options.set('preset', 'islands#greenClusterIcons');\r\n        map.geoObjects.add(objectManager);\r\n\r\n        $.ajax({\r\n            url: params.data_path\r\n        }).done(function(data) {\r\n            objectManager.add(data);\r\n        });\r\n    };\r\n\r\n    this.addControl = (params) => {\r\n\r\n        switch (params) {\r\n            case \"search_control\":\r\n                map.controls.add(new ymaps.control.SearchControl({\r\n                    options: {\r\n                        // Пусть элемент управления будет\r\n                        // в виде поисковой строки.\r\n                        size: 'large',\r\n                        // Включим возможность искать\r\n                        // не только топонимы, но и организации.\r\n                        provider: 'yandex#search'\r\n                    }\r\n                }));\r\n                break;\r\n            default:\r\n                map.controls.add(params);\r\n        }\r\n    };\r\n\r\n    /** открываем функции и переменные, назначая их свойствам объекта */\r\n    return {\r\n        addControl: this.addControl,\r\n        addPlace: this.addPlace,\r\n        addPlacesFromData: this.addPlacesFromData,\r\n        /*clearMarkers: this.clearMarkers*/\r\n    };\r\n}"]}