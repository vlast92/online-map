"use strict";function YandexMap(params){var map=new ymaps.Map(params.id,{center:params.centerCoord,zoom:params.zoom,controls:[]});if(!params.wheel_zoom)map.behaviors.disable("scrollZoom");this.addPlace=function(params){for(var i=0;i<params.length;i++){var icon=params[i].icon?params[i].icon:{},placemark=new ymaps.Placemark([params[i].position.lat,params[i].position.lng],{hintContent:params[i].name,balloonContent:params[i].infoWindowContent},icon);map.geoObjects.add(placemark)}};this.addPlacesFromData=function(params){var objectManager=new ymaps.ObjectManager({clusterize:true,gridSize:params.cluster.grid_size});if(params.cluster.icon_color)objectManager.clusters.options.set("clusterIconColor",params.cluster.icon_color);map.geoObjects.add(objectManager);$.ajax({url:params.data_path}).done(function(data){objectManager.add(data)})};this.addControl=function(params){switch(params){case"search_control":map.controls.add(new ymaps.control.SearchControl({options:{size:"large",provider:"yandex#search"}}));break;default:map.controls.add(params)}};return{addControl:this.addControl,addPlace:this.addPlace,addPlacesFromData:this.addPlacesFromData}}