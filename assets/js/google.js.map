{"version":3,"sources":["../../dist/js/google.js"],"names":["GoogleMap","mapParams","map","google","maps","Map","document","getElementById","id","center","centerCoord","zoom","zoomControl","mapTypeControl","streetViewControl","fullscreenControl","markerConfig","marker","infoWindow","info_window","InfoWindow","close","markers","addPlace","params","i","window","setTimeout","addMarker","addMarkerListeners","index","infoWindowContent","length","push","Marker","position","animation","icon","title","name","addListener","setZoom","mapZoomMarkerClick","setCenter","getPosition","undefined","open","setContent","getAnimation","setAnimation","Animation","BOUNCE","addControl","controls","createElement","classList","add","class","innerHTML","content","ControlPosition","clearMarkers","setMap"],"mappings":"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","file":"google.js","sourcesContent":["\"use strict\";\r\n\r\nfunction GoogleMap(mapParams){\r\n\r\n    const map = new google.maps.Map(document.getElementById(mapParams.id), {\r\n        center: mapParams.centerCoord,\r\n        zoom: mapParams.zoom,\r\n        zoomControl: mapParams.zoomControl,\r\n        mapTypeControl: mapParams.mapTypeControl,\r\n        streetViewControl: mapParams.streetViewControl,\r\n        fullscreenControl: mapParams.fullscreenControl\r\n    }),\r\n    markerConfig = mapParams.marker;\r\n\r\n    let infoWindow = null;\r\n\r\n    if(mapParams.info_window) {\r\n        infoWindow = new google.maps.InfoWindow({map: map});\r\n        infoWindow.close();\r\n    }\r\n\r\n    let markers = [];\r\n\r\n    this.addPlace = (params) => {\r\n\r\n        for(let i = 0; i < params.length; i++){\r\n            window.setTimeout(()=>{\r\n\r\n                this.addMarker(params[i]);\r\n                this.addMarkerListeners({index: i, infoWindowContent: params[i].infoWindowContent});\r\n            }, 500 * (i + 1));\r\n        }\r\n    };\r\n    this.addMarker = (params) => {\r\n\r\n        markers.push(new google.maps.Marker({\r\n            position: params.position,\r\n            animation: markerConfig.animation,\r\n            icon: markerConfig.icon,\r\n            title: params.name,\r\n            map: map\r\n        }));\r\n    };\r\n    this.addMarkerListeners = (params) => {\r\n\r\n        markers[params.index].addListener('click', function () {\r\n            map.setZoom(mapParams.mapZoomMarkerClick);\r\n            map.setCenter(this.getPosition());\r\n\r\n            if(infoWindow !== null && params.infoWindowContent !== undefined){\r\n                infoWindow.close();\r\n                infoWindow.open(map, this);\r\n                infoWindow.setContent(params.infoWindowContent);\r\n            }\r\n\r\n            if (this.getAnimation() !== null) {\r\n                this.setAnimation(null);\r\n            } else {\r\n                this.setAnimation(google.maps.Animation.BOUNCE);\r\n            }\r\n\r\n            this.setAnimation(google.maps.Animation.BOUNCE);\r\n        });\r\n        markers[params.index].addListener('rightclick', function () {\r\n\r\n            if(infoWindow !== null){\r\n                infoWindow.close();\r\n            }\r\n            map.setZoom(mapParams.zoom);\r\n            map.setCenter(this.getPosition());\r\n        });\r\n    };\r\n    this.addControl = (params) => {\r\n\r\n        let controls = document.createElement('div');\r\n\r\n        controls.classList.add(params.class);\r\n        controls.innerHTML = params.content;\r\n\r\n        map.controls[google.maps.ControlPosition[params.position]].push(controls);\r\n    };\r\n    this.clearMarkers = () => {\r\n\r\n        for(let i = 0; i < markers.length; i++){\r\n\r\n            markers[i].setMap(null);\r\n        }\r\n        markers = [];\r\n    };\r\n    \r\n    /** открываем функции и переменные, назначая их свойствам объекта */\r\n    return {\r\n        addControl: this.addControl,\r\n        addPlace: this.addPlace,\r\n        clearMarkers: this.clearMarkers\r\n    };\r\n}"]}